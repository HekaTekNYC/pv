---
import Button from "../../ui/Button.astro";

import { getCloudinarySrc } from "../../../config/cloudinary";
import { productGuide } from "../../../data/product-guide";

const productsGuideImg = getCloudinarySrc(
  "sheer-2_ggl7ca",
  "png",
  "v1761587105",
);
---

<section class="product-guide" aria-labelledby="product-choosing__title">
  <div class="product-guide__container container">
    <!-- LEFT -->
    <div class="product-guide__left">
      <header class="product-guide__header">
        <h2 id="product-choosing__title" class="product-guide__title">
          How to Choose the Right Window Treatment
        </h2>
        <p>
          Choosing the right window treatment involves carefully considering
          your style, light control needs, and privacy preferences. Explore
          various options to beautifully enhance your space while reflecting
          your unique personality.
        </p>
        <div class="product-guide__cta">
          <Button href="/contact" color="secondary">
            Order Your Treatment Today
          </Button>
        </div>
      </header>

      <div class="product-guide__media">
        <img
          src={productsGuideImg}
          alt="Example window treatments installed in a modern living room with natural lighting"
          width="1280"
          height="911"
          loading="lazy"
          decoding="async"
        />
      </div>
    </div>

    <!-- RIGHT -->
    <div class="product-guide__right">
      <ul class="product-guide__list" role="list">
        {
          productGuide.map((card) => (
            <li class="product-guide__card" role="listitem">
              <div class="product-guide__card-icon">
                <img
                  src={card.blob.src}
                  alt=""
                  aria-hidden="true"
                  width="100"
                  height="103"
                  loading="lazy"
                  class="product-guide__blob"
                />
                <img
                  src={card.icon.src}
                  alt={card.icon.alt}
                  width={card.icon.width}
                  height={card.icon.height}
                  loading="lazy"
                  class="product-guide__icon"
                />
              </div>
              <div class="product-guide__card-body">
                <h3 class="big-heading">{card.header}</h3>
                <p>{card.text}</p>
              </div>
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</section>

<style>
  .product-guide__container {
    display: grid;

    gap: 48px;
  }

  .product-guide__left {
    display: flex;
    flex-direction: column;
    gap: 48px;
  }

  .product-guide__header h2 {
    padding-bottom: 16px;
  }

  .product-guide__cta {
    margin-top: 32px;
  }

  .product-guide__media {
    overflow: hidden;
    width: 100%;
  }

  .product-guide__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  /* Cards list */
  .product-guide__list {
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .product-guide__card {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 32px;
    align-items: start;
    background: var(--grey-10, #f4f5f6);
    border-radius: 2px;
    padding: 24px;
  }

  .product-guide__card-icon {
    position: relative;
    width: 100px;
    height: 103.22px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .product-guide__blob {
    position: absolute;
    top: 0;
    left: 0;
    width: 100px;
    height: 103.22px;
    z-index: 1;
  }

  .product-guide__icon {
    position: relative;
    width: 48px;
    height: 48px;
    z-index: 2;
  }

  .product-guide__card-body {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 12px;
  }

  /* Media Queries */
  @media (min-width: 768px) {
    .product-guide__card {
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .product-guide__card-icon {
      flex-shrink: 0;
    }
  }

  @media (min-width: 1200px) {
    .product-guide__container {
      grid-template-columns: 45% 55%;
      gap: 64px;
    }
  }
</style>
